[[{"l":"Добро пожаловать на мой сайт","p":["* тут ты можешь найти необходимую информацию по сетевому и системному админисрированию, рад тебя видеть! папка \"region2025\" - это папка содержащая шпоры по региональному задание по компетенцие \"сетевое и системное администрирование\" чемпионата \"Профессионалы\" retype-hero Welcome my dear friend!"]}],[{"i":"задание-region-2025-2","l":"!Задание REGION 2025 (2)","p":["-","– Общения посредством форумов/мессенджеров/иных средств коммуникации – видеохостингов","– Систем контроля версий","“ Destination Reachable – Доставку обеспечат Профессионалы! ”","«Сетевое и системное администрирование» (Юниоры)","[ISP]","[Последовательность выполнения задания и проверки]","[Примечание автора]","[Требования к рабочему месту, среде виртуализации и ресурсам]","**","<СЕТЬ>","⚠ * Обратите внимание, что на сервере также располагается сайт корпоративного портала. Оба сервиса должны работать на порту 80 на соответствующих именах. В крайнем случае, Zabbix допускается запустить на порте 8080 с потерей части баллов.","⚠ В таблицах маршрутизации могут содержаться дополнительные резервные маршруты, но именно OSPF-маршруты должны быть “выбраны” системой маршрутизации.","⚠ Данный раздел не распространяется на гостевые сети, они должны продолжать функционировать так, как указано в соответствующих гостевым сетям пунктах задания.","⚠ Допускается открывать конкретные дополнительные порты, необходимые для выполнения задания.","⚠ Компьютер CLIENT-EXT не подразумевает внесения дополнительных настроек, помимо IP-адресации и DNS-параметров и используется только для проверки доступности сервисов Компании из внешних сетей.","⚠ Подключение устройств в гостевых и внешних сетях не требуется","⚠ При назначении прав учитывайте, что для папки задача обеспечить “чтение” подразумевает также возможность перечисления содержимого папки и возможность зайти в эту директорию с помощью команды cd.","⚠ При настройке межсетевого экранирования учитывайте, что правила должны распространяться на сети, а не на конкретные устройства, при этом по политике организации нахождение в одной сети одновременно клиентов и серверов недопустимо.","0.5Gb; 1CPU","1.5.2. Структура модулей конкурсного задания","10 гб ОЗУ","100.100.100.100","100.101.102.103","100.108.128.45/28","100.127.90.57/27","100.67.32.80/26","100.99.90.96/28","120 гб SSD-пространства (при использовании “тонких” виртуальных дисков)","1Gb; 1CPU","2.1. Личный инструмент конкурсанта","2.2. Материалы, оборудование и инструменты, запрещенные на площадке","2025 г.","2Gb; 2CPU","4 процессорных ядра","A","AAA","Alt Server 10.2","Alt Server 10.4","Alt Workstation 10.4","CL-BACK","CL-CL-GW1","CL-FRONT(VIP)","CL-FRONT1","CL-FRONT2","CL-GW","CL-GW (WAN VIP)","CL-GW(CL-GW1 и CL-GW2)","CL-GW(VIP)","CL-GW1","CL-GW2","CL-LAN","CL-WAN","CLIENT-EXT","CLIENT-EXT должен обращаться с DNS запросами на сервер провайдера, указанный в Схеме IP-адресации.","DC-RND","DHCP","DHCP-сервера должны передавать клиентам все необходимые опции для работы в сети и взаимодействия с другими устройствами и сетями по IP и DNS именам.","DHCP-сервера должны работать на основе ПО “Kea DHCP server”","DHCPv4","DNS (обратный просмотр)","DNS (прямой просмотр)","DNS-провайдер ns.ext","DNS-сервер","DNS-сервер в филиале KRD располагается на FW-KRD.","DNS-сервер в филиале RND располагается на DC-RND и интегрирован с доменом FreeIPA.","FTP","FW-KRD","FW-RND","FW* должны быть защищены от вброса маршрутов с любых интерфейсов, кроме тех, на которых обмен маршрутами явно требуется.","GST-RND (vl2020)","GUI","helpdesk.jun.profi","image image","INTERNET","ISP","ISP – первый адрес в сети","LAN-KRD","LAN-RND (vl2010)","Loopback-интерфейсы","MATE","MGMT-PC","NAT, PAT, Проброс портов","NB-RND","NTP-сервер","NTP/Chrony","OPNsense 24.7","PC-KRD","PC-RND","SRV-KRD","SRV-RND (vl2000)","SSH","STATIC","SYNC","vSW на схеме не является отдельным устройством или виртуальной машиной. Данный функционал обеспечивается сетевой подсистемой используемой среды виртуализации.","А","Автоматизации настройки и развертывания программного обеспечения","Авторизация пользователей для получения доступа к ЛВС.","Авторский состав: Рачеев А.В., Золотарёв А.П.","адрес","Адрес/Маска","База данных - postgresql","База данных: PostgreSQL","Базы данных (Postgresql/Mariadb)","В виртуальные машины с ОС семейства Linux рекомендуется предустановить следующие пакеты: компоненты управления используемой среды виртуализации (qemu-guest-agent / open-vm-tools / hyperv-daemons / …), dnsutils / bind-utils, tcpdump и иные компоненты, обусловленные особенностями Вашей инфраструктуры.","В данной таблице указаны ОС для модуля Б (1й и 2й соревновательные дни).","В инфраструктуре функционирует DNS-провайдер (расположенный на ВМ ISP), его интерфейс доступен по адресу https://ns.ext/. Учетная запись: jun","В качестве DHCP-сервера используйте программную реализацию Kea","В рамках каждого филиала короткие имена должны автоматически дополняться доменным именем соответствующего филиала.","В сетевой инфраструктуре функционирует недоступная участникам и не указанная явно в задании виртуальная машина ISP, которая имеет следующие роли:","В случае, если в тексте задания не указано иное, все учетные записи должны иметь пароль P@ssw0rd","В филиале RND разверните домен rnd.jun.profi на базе FreeIPA с контроллером домена на DC-RND. При развертывании учтите, что это устройство будет выполнять функции DNS и DHCP сервера в филиале RND.","Вариативная и расширенная вариативная часть стека не подразумевает использование всех технологий в конкретном чемпионатном мероприятии, однако если вы используете задание как основу для своего образовательного процесса или планируете подготовку для мероприятий межрегионального и федерального уровня, то данные разделы могут быть Вам полезны.","Вариативная часть:","Введите компьютер PC-RND в домен, обеспечьте возможность входа под всеми доменными учетными записями на данный ПК.","Веб-интерфейс: на основе Nginx","Веб-сервер","Виртуальный адрес группы - CL-FRONT(VIP)","ВМ","Вне зависимости от количества модулей, Конкурсное задание должно включать оценку по каждому из разделов требований по компетенции.","Возрастной ценз: от 14 лет","Время на выполнение модуля: 8 часов","Время, после которого сервер с более высоким приоритетом заберет обратно себе роль мастера – 30 секунд","Все остальные взаимодействия между устройствами в разных филиалах должны быть запрещены.","Все остальные локальные сети, включая клиентские VPN-сети, должны иметь адресацию с маской /24. При этом шлюзом по умолчанию в таких сетях должен быть первый или последний адрес в сети, после принятия решения по адресации шлюзов по умолчанию, используйте аналогичные (только первые или только последние) адреса для шлюзов во всей инфраструктуре.","Все проверки работы клиентских технологий (сайтов, клиентских VPN подключений и т.п.), если в задании не указано иного, будут выполняться из под пользователя user соответствующих клиентских машин.","Все сервера и клиенты, которые поддерживают Chrony должны использовать данную реализацию протокола. На устройствах, которые не поддерживают Chrony допускается использовать стандартный NTP.","Все сети, соединяющие маршрутизаторы между собой, включая сети туннелей site-to-site должны иметь маску сети /30 или /29 (там где необходимо).","Все устройства в локальных сетях должны использовать указанные сервера.","Все устройства в локальных сетях должны обращаться с DNS запросами к DNS-серверам соответствующих филиалов. Исключение допустимо только для гостевых сетей, при наличии технической необходимости.","Все устройства в локальных сетях филиалов должны иметь возможность отправлять друг друг ping-сообщения, кроме тех случаев, когда в задании явно указано иное.","Все устройства должны быть доступны в локальных сетях всех филиалов по именам в соответствии с топологией в доменах соответствующих филиалов. К примеру srv-krd.krd.jun.profi или pc-rnd.rnd.jun.profi","Все устройства должны иметь доступ в интернет, если в задании явно не указано иного.","Выдаваемые по DHCP адреса не должны пересекаться с зарезервированными, служебными и прочими “занятыми” адресами, необходимыми для выполнения задания.","группу jun-sec, добавьте в нее пользователей: alex и serg и admin","группу jun-users, добавьте в нее пользователей: den и alex","Далее идет та часть, предназначенная для выдачи участникам, однако в ее содержании, в основном в преамбуле, есть определенные моменты, которые могут зависеть от преднастроя и реализации машин в конкретной инфраструктуре виртуализации. Сразу отмечу, что преамбула является неотъемлемой частью задания и содержит моменты, непосредственно влияющие на проверку задания и его выполнимость.","Динамическая маршрутизация","Для авторизации используйте локального пользователя FW-RND с именем guest.","Для бесперебойного функционирования корпоративной инфраструктуры, а также качественного предоставления сервиса внешним клиентам, руководство приняло решение организовать отказоустойчивый кластер высокой доступности и разместить в нем систему Helpdesk.","Для локальных сетей используется только приватная адресация из стандартных приватных диапазонов.","Для организации лабораторной инфраструктуры подойдет любая среда виртуализации с поддержкой технологий vlan/trunk и возможностью клонирования виртуальных машин или развертывания ВМ из шаблона.","Для работоспособности портала из внешнего мира, внесите необходимые данные через веб-интерфейс DNS-провайдера.","Для удобства пользователя создайте на рабочем столе ярлык на открытие страницы captive portal.","Для хранения важных данных в сервер SRV-KRD установлено два дополнительных диска. Объедините их в зеркальный отказоустойчивый массив используя технологию md raid. На полученном резервированном носителе создайте файловую систему XFS и подключите раздел по пути /opt/data/ для дальнейшего использования.","Доменные инфраструктуры (FreeIPA)","Допускается увеличение объема ресурсов в соответствии с возможностями инфраструктуры, в которой проводится чемпионатное мероприятие, с обеспечением равных условий для всех участников","Допустимо использовать рабочее место участника как сервер виртуализации при наличии на нем достаточного объема ресурсов, однако такой подход не рекомендован в силу малой надежности и проблем с обслуживанием.","Доступ к сетевым ресурсам должен появляться только после авторизации.","Если для выполнения определенного действия вам требуется указать имя пользователя, которое не указано в задании и система не имеет пользователя по умолчанию, или система имеет повышенные требования к паролю и P@ssw0rd использовать невозможно, укажите необходимые данные для входа около соответствующего пункта задания.","ЗАДАНИЕ","Задание не подразумевает использование множественных физических рабочих мест, а также физических коммутаторов и маршрутизаторов. Рабочее место участника подразумевает только ПК с доступом к интерфейсу среды виртуализации.","Защищенные сетевые сегменты (специализированные VLAN, отдельные провайдеры с ограниченным доступом, VPN-туннель в закрытый сегмент)","Здесь и далее курсивом обозначены примечания авторов, предназначенные, в первую очередь, для экспертов, которые планируют организовывать мероприятия по этому заданию или производным от него а также задействованным в этом технических экспертов.","Знак * (звёздочка, астериск) в задании является подстановочным знаком заменяет произвольную последовательность символов от начала строки или пробельного символа до другого пробельного символа или конца строки. К примеру, при указании на устройство FW* имеются ввиду все устройства в задании, название которых начинается с FW, например FW1, FW-MSK, FWabc и т.п., а при указании сетей * MSK имеются в виду все сети в задании, название которых заканчивается на MSK, например LAN1-MSK, SRV-MSK, dmzMSK и т.п.","Идентификатор группы – 80","Иерархия группы - CL-FRONT1 -> CL-FRONT2","имя","Инвариативная часть:","Интервал рассылки сообщений - 3 секунды","интернет на скорости не менее 5 мбит/с","Используйте современные надежные протоколы шифрования AES, SHA-2 или ChaCha20.","Кластеризованные сетевые и серверные системы","Клиентские рабочие места должны иметь возможность обращаться к серверам в другом филиале по стандартным портам протоколов http и https.","Количество конкурсных дней: 3 дня.","Конкретное графическое окружение (GUI) ОС Linux не принципиально для выполнения задания, однако там, где указано, графическое окружение должно быть. Обратите внимание, что графическое окружение может существенно влиять на потребность ВМ в ресурсах.","КОНКУРСНОЕ ЗАДАНИЕ","КОНКУРСНОЕ ЗАДАНИЕ КОМПЕТЕНЦИИ","Конкурсное задание состоит из 3 модулей, общее количество баллов конкурсного задания составляет 100.","Консольный доступ к виртуальной машине провайдера ISP для участника не предполагается. Следите за тем, чтобы виртуальная машина ISP была включена в течение всего времени выполнения задания.","Контейнеры Docker","Лабораторный стенд для выполнения данного задания при указанных в соответствующем разделе, предустановленных ОС (например развернутых из образа) имеет следующие требования к ресурсам.","Минимальные системные требования:","Мобильные устройства, устройства фото-видео фиксации, носители информации.","Модули Б в данном задании сквозной, выполняются на одной и той же инфраструктуре в течение двух соревновательных дней. Модуль Г “Отказоустойчивость и автоматизация” выполняется в третий соревновательный день на отдельных стендах. Задание каждого соревновательного дня подразумевает проверку в день выполнения.","Модуль Б. (Настройка технических и программных средств информационно-коммуникационных систем) (инвариант)","Модуль Г: Обеспечение отказоустойчивости (3-й день, 4 часа)","на DC-RND для клиентов сетей LAN-RND и GST-RND","на FW-KRD для клиентов сети LAN-KRD","На FW* настройте описания интерфейсов, согласно схеме сети","На сервере CL-BACK разверните сервер системы HelpDesk при помощи технологии контейнеризации docker. Необходимые файлы контейнера разместите в директории /opt/zammad/","На сервере SRV-KRD должен быть развернут WEB-сервер корпоративного портала организации:","На сервере SRV-KRD разверните сервер мониторинга и настройте его следующим образом:","На сервере SRV-KRD сервис SSH должен функционировать на порте 2202","На указанных ОС задание выполнимо на 100%.","Назначьте номер группы 1 для внешнего интерфейса и номер группы 2 для внутреннего","Настроить удаленный доступ к SRV-KRD по SSH","Настройка DNS в соответствии с таблицей","Настройка IPv4 адресации","Настройка автоматизированного рабочего места","Настройка веб служб на серверах CL-FRONT1 и CL-FRONT2","Настройка доступа к контейнеру на сервере CL-BACK","Настройка кластера DHCP","Настройка отказоустойчивого кластера маршрутизации","Настройка отказоустойчивости веб служб","Настройте CARP на CL-GW1 как основной сервер и GW2 как подчинённый сервер","Настройте CL-GW2 для выдачи IP-адресов в случае сбоя CL-GW1","Настройте DHCP-сервер на CL-GW1 как основной","Настройте DHCP-сервер на CL-GW2 как запасной","Настройте DHCP-сервера:","Настройте DNS-сервер на межсетевых экранах CL-GW1 и CL-GW2","Настройте IPv4-адреса согласно схеме адресации:","Настройте keepalived таким образом, чтобы при отключении службы nginx на CL-FRONT1 общий ip адрес передавался CL-FRONT2, при включении общий ip адрес снова возвращался CL-FRONT1","Настройте nginx на порт 80, убедитесь что порт доступен из внешней сети","Настройте OSPFv2 по защищенному туннелю между FW-RND и FW-KRD так, чтобы FW* имели полную информацию о маршрутах во все локальные сети всех филиалов.","Настройте адреса шлюза по умолчанию, где это требуется;","Настройте для всех устройств филиалов доменные имена в зонах rnd.jun.profi и krd.jun.profi в соответствии с их расположением.","Настройте дополнительные параметры для обеспечения корректной работы кластера маршрутизации","Настройте защищенный VPN-туннель FW-RND<=>FW-KRD со следующими параметрами:","Настройте имена всех устройств согласно топологии.","Настройте инфраструктуру разрешения имен в филиалах следующим образом:","Настройте маршрутизацию, NAT и межсетевой экран таким образом, чтобы трафик для другого офиса не подвергался трансляции адресов и не блокировался. На текущем этапе все устройства в локальных сетях филиалов должны иметь возможность взаимодействовать между собой без ограничений, кроме сегментов и устройств, для которых в задании явно указано иное.","Настройте межсетевой экран для ограничения доступа к порту 9090 только для серверов CL-FRONT1 и CL-FRONT2","Настройте механизм DHCP failover между CL-GW1 и CL-GW2","Настройте перенаправление трафика с внешнего порта 80 на внутренний порт 80, в общий ip-адрес CL-FRONT1 и CL-FRONT2","Настройте права доступа для каталога /opt/data на SRV-KRD следующим образом:","Настройте правила межсетевого экранирования для взаимодействия между филиалами через VPN-туннель:","Настройте программное обеспечение nginx на CL-FRONT1 и CL-FRONT2 как обратный прокси для приложения Zammad на CL-BACK","Настройте синхронизацию времени:","Настройте часовой пояс на всех устройствах в соответствии с их географическим расположением. Для машины CLIENT-EXT используйте часовой пояс Москвы.","Не допускается использование протоколов шифрования и аутентификации с длиной ключа/хеша менее 256 бит.","Нулевой - нельзя ничего привозить.","Обеспечьте автоматизированную репликацию конфигурации и состояний CL-GW1 на CL-GW2 посредством pfSync и XMLRPC-sync","Обеспечьте автоматический запуск контейнера","Обеспечьте авторизацию пользователей в гостевой сети GST-RND через captive portal.","Обеспечьте возможность подключения к FW-KRD под пользователем fwadm:","Обеспечьте доменному пользователю admin, после успешной авторизации на компьютере PC-RND, возможность заходить в интерфейс FreeIPA без использования пароля. Для аутентификации и авторизации используйте Kerberos.","Обеспечьте наличие доступа в интернет со всех устройств в сети CL-LAN","Обеспечьте наличие на главной странице текста “Добро пожаловать на корпоративный портал компании Destination Reachable” и логотипа чемпионатного движения “Профессионалы”, при этом логотип требуется сохранить на сервере Портала, вставка по ссылке недопустима.","Обеспечьте работоспособность сервера helpdesk и возможность входа под пользователем hdadmin@jun.profi с паролем \" P@ssw0rdP@ssw0rd\"","Обеспечьте сбор показателей со всех подключенных устройств с помощью стандартных шаблонов используемых ОС","Обеспечьте синхронизацию данных между основным и запасным серверами","Обновления ОС до более новых версий в рамках ближайших нескольких лет не должны привести к невыполнимости задания, т.к. все используемые технологии продолжают развиваться/поддерживаться и не предполагают вывода из эксплуатации в ближайшее время.","Оборудование уже подключено, операционные системы установлены.","Обратите внимание, что провайдерская адресация 100.64.0.0/10 относится к серому (частотному) диапазону адресов, что может потребовать дополнительных настроек на граничных сетевых устройствах межсетевого экранирования. Однако, в терминологии задания, сеть 100.64.0.0/10 относится к внешним (“белым”) сетям, наряду с “белыми” сетями из реального интернета.","Общая продолжительность Конкурсного задания: 12 ч.","обычные пользователи не должны иметь доступа в данный каталог","Операционная система OPNsense в интерфейсе при названии некоторых объектов не допускает использование символа “-”, в таком случае его можно заменять на знак “_”, но только там, где указать “-” невозможно.","Операционные системы:","ОС","ОС межсетевых экранов также возможно заменить на другие, однако функционал различного ПО для межсетевого экранирования может иметь существенные отличия, и для некоторых ОС могут потребоваться изменения в задании вплоть до переноса некоторых задач с фаервола на другие сервера и/или исключения из задания протоколов динамической маршрутизации.","Основной адрес: mon.jun.profi","Отказоустойчивость и/или балансировка нагрузки","Оценка знаний участника должна проводиться через практическое выполнение Конкурсного задания. В дополнение могут учитываться требования работодателей для проверки теоретических знаний/оценки квалификации.","Оценка каждого дня осуществляется в соответствующий день.","Парольный доступ по SSH должен быть запрещен.","первый адрес в сети","Перенаправление внешнего порта","Подготовьте PC-RND к работе пользователя:","Подключение к SRV-KRD с PC-KRD из под пользователя user должно осуществляться командой “ssh SRV” без дополнительных параметров.","Подключите к серверу мониторинга все устройства организации","Пользователи данной сети должны иметь доступ в интернет и не иметь доступа к локальным ресурсам, кроме необходимых для выполнения задания.","Пользователи и группы","Пользователь user на SRV-KRD должен иметь возможность выполнять команды через sudo без ввода пароля.","пользователь webdev (его требуется создать) должен иметь полные права на чтение и запись в указанный каталог и все его подкаталоги.","Порт Helpdesk - 9090","Порт веб-интерфейса: 80(HTTP)*","посредством веб-интерфейса с полным доступом к настройкам;","посредством протокола SSH с доступом к выполнению команд через sudo;","Преамбула: Техническое описание лабораторной инфраструктуры и общие требования к реализации.","Представляет функции провайдеров интернета для филиалов и внешних клиентов.","Предыстория:","При выполнении задания впишите адреса выданные устройствам в столбец “Адрес/Маска” рядом со словом “STATIC”","При выполнении настоящего задания всегда нужно руководствоваться правилом наименьших привилегий, в особенности при настройке внешних интерфейсов пограничных шлюзов.","При настройке FreeIPA FQDN в обязательном порядке требуется указывать в нижнем регистре.","При необходимости позволяет контролировать и/или ограничивать доступ машин к реальному интернету, однако данная версия задания подразумевает доступ в интернет для его выполнения.","При необходимости получить преднастроенную версию ISP или иные комментарии по его функционированию - можете обратиться в чат компетенции, там Вам, скорее всего, помогут.","При необходимости, на эту машину можно добавлять другие сервисы необходимые для выполнения производных версий от этого задания.","При обращении к серверу по ip-адресу или любому другому DNS-имени, кроме адреса корп.портала, сервер должен выдавать ошибку 404.","При обращении по ip загружается локальная страница-заглушка с идентификацией сервера, на странице размером написано имя хоста, отдавшего страницу","При обращении по доменному имени helpdesk.jun.profi из внешних сетей или с MGMT-PC происходит обратное проксирование на CL-BACK в порт 9090","при подключении с компьютера PC-KRD авторизация SSH должна осуществляться по ключу без необходимости ввода пароля.","При развертывании не используйте технологии контейнеризации","При развертывании портала не используйте технологии контейнеризации","При разработке задания предполагалась возможность реализовывать его на разных операционных системах.","Приложение 1. Инструкция по заполнению матрицы конкурсного задания","Приложение 2. Матрица конкурсного задания","Приложение 3. Инструкция по охране труда","Приложение 4. Чертежи, технологические карты, алгоритмы, схемы","Приложение: Helpdesk система Zammad","Приложения","Приоритет - 110 и 100 соответственно","Проброс портов;","Проверьте работоспособность кластера при отключении CL-GW1","Проверьте, что при включении CL-GW1 он восстанавливает свои адреса и повторно становится основным","Проверьте, что при отключении CL-GW1 доступ к сети WAN сохраняется через CL-GW2","Работа с дисками (LVM, RAID, квотирование, шифрование)","Работа с дисками (разметка, монтирование)","Работа с системным загрузчиком GRUB","Работа с юнитами systemd (управление юнитами, создание простого юнита)","Рады приветствовать Вас на юге нашей необъятной родины в логистическом и индустриальном центре, городе Ростов-на-Дону! Не поверите, как сложно найти компетентного специалиста, который умеет администрировать отечественные операционные системы, да еще и в сетях разбирается! Мы очень рады что Вы теперь с нами в логистической компании “Destination Reachable” (далее Компания). Следуя потребностям наших клиентов, Компания старается, по возможности, использовать отечественные аппаратные и программные решения. Здесь, в Ростове, располагается наш основной филиал (внутреннее обозначение RND), также, следуя динамике развития регионов, мы, с Вашей помощью, будем открывать новый филиал в Краснодаре (KRD). Наши клиенты располагаются по всей России, поэтому часть наших сервисов предоставляются и внешним пользователям. Все оборудование только что распаковано, операционные системы предустановлены, в соответствии с техническим заданием. Для доступа к сети Интернет нашей компанией заключены договора с провайдерами интернета для обоих филиалов с предоставлением “белых” ip-адресов *(подробнее в разделе “Техническое описание лабораторной инфраструктуры и общие требования к реализации”).","Расширенная вариативная часть:","Реализация дискреционной модели прав доступа к файловой системе","Региональный чемпионат по профессиональному мастерству «Профессионалы» в 2025 г.","региональный этап чемпионатов Всероссийского чемпионатного движения по профессиональному мастерству в 2025 году, компетенция “Сетевое и системное администрирование”, возрастная категория Юниоры 14+","Резервные провайдеры интернет","Рекомендованное региональное задание ССА Юниоры 2025","Ресурсы (примерно)","Сайт должен работать на адресе corp.jun.profi на стандартном HTTP-порте","Связь между контейнерами;","Сервер точного времени в филиале KRD располагается на FW-KRD.","Сервер точного времени в филиале RND располагается на DC-RND.","Сервер: Zabbix LTS","Сервера должны иметь возможность обращаться к серверам и клиентам другого филиала без ограничений.","Серверные и клиентские устройства без существенных проблем можно заменить на любую другую ОС общего назначения семейства Linux.","Сеть","Системы мониторинга ресурсов (Zabbix)","службы настроенного ранее веб-сервера должны иметь минимально-необходимые права для работы сайта.","Согласно политике Организации, все службы и технологии, необходимые для выполнения задания, должны запускаться автоматически и функционировать в соответствии с заданием при запуске операционных систем, если в задании явно не указано иного.","Создайте в системе заявку от пользователя junuser@jun.profi, в теме заявки укажите - \"трассировка\", к заявке прикрепите снимок экрана трассировки маршрута от компьютера CLIENT-EXT до хоста helpdesk.jun.profi","Создайте группу серверов keepalived со следующими параметрами:","Создайте обратную зону(ы) DNS в доменном DNS-сервере DC-RND, чтобы все ip-адреса в филиале RND расшифровывались в соответствующие им DNS-имена.","Создайте пользователей и группы в домене:","Создайте правило, разрешающее доменному пользователю admin использовать sudo на всех компьютерах в домене без ограничения.","СПЕЦИАЛЬНЫЕ ПРАВИЛА КОМПЕТЕНЦИИ","Статическая маршрутизация","Стек технологий, знание которых требуется для выполнения задания и возможных изменений в задании в рамках 30% изменений:","Схема IP-адресации и схема подключений.","Схема адресации локальных сетей в задании разрабатывается участниками, однако требуется придерживаться следующих условий:","Схема сети приведена в отдельном файле!","Технология VPN на ваш выбор: IPsec, OpenVPN, WireGuard.","тип","Туннелирование/VPN (Site-to-Client)","Туннелирование/VPN (Site-to-Site)","Убедитесь в корректной работе DHCP на обоих шлюзах после перезагрузки","Убедитесь, что внешний и внутренний адреса переключаются на CL-GW2 при сбое","Убедитесь, что все запросы корректно обрабатываются на целевом адресе","Убедитесь, что другие источники не могут подключаться к указанным портам","Указанные DNS-сервера должны выполнять пересылку “внешних” DNS запросов от локальных клиентов на DNS сервер провайдера, указанный в Схеме IP-адресации.","Указанные сервера времени, а также сервера и клиенты во внешних сетях должны синхронизировать свое время с NTP сервером, указанным в схеме IP-адресации.","Управление контейнерами.","Установите на АРМ офисный пакет (МойОфис / Р7 Офис) и создайте на него ярлык на рабочем столе.","Установите Яндекс-браузер и создайте на него ярлык на рабочем столе.","Установка и запуск контейнеров;","Установка и настройка контейнера на сервере CL-BACK","Установка программного обеспечения","Устройства","Устройство","Устройство PC-KRD при входе под пользователем user должно иметь доступ к SRV-KRD под пользователем user c использованием SSH ключей, без необходимости ввода пароля.","Участникам при выполнении всех модулей можно использовать интернет-ресурсы, за исключением:","Участники имеют право задавать уточняющие вопросы экспертам (кроме эксперта наставника) и вправе получить ответ, если вопрос не предполагает получения информации о реализации конкретной технологии","Файлы сайта должны располагаться в директории /opt/data/","Формат участия: индивидуальный","Центр сертификации, SSL","Централизованная система журналирования (syslog, rsyslog и т.п.)","Часть 1 (1-й день - 4 часа)","Часть 2 (2-й день - 4 часа)","Шлюз","Является NAT-шлюзом в реальный интернет, что обеспечивает выполнимость задания.","Является сервером DNS и провайдером DNS для доменов, необходимых для выполнения задания. Провайдер DNS доступен через веб-интерфейс. Может быть реализован как самодельным решением, так и готовым софтом, например SnitchDNS.","Является сервером времени (chrony)."]}],[{"i":"caprадрессация","l":"Capr+адрессация","p":["заходим сразу на cl-r3/cl-r2 делаем адрессацию lan для cl-r3- 10.3 lan для cl2-r2-10.2 далее идем на mg-pc (ip10.11/шлюз 10.1) заходив в Opnsense открывает 10.2 и 10.3 10.2= inteerfaces - virtul ips - + mode capr interface lan ip 10.1 peer 10.3 password P@sswor group 2 adb 1 описание lan","Делаем еще один","nteerfaces - virtul ips - + mode capr interface wan ip 100.99.90.100/27 peer 10.3 password P@sswor group 1 adb 1","ДРУГАЯ ТАЧКА 10.3= inteerfaces - virtul ips - + mode capr interface lan ip 10.1 peer 10.2 password P@sswor group 2 adb 1 описание lan","nteerfaces - virtul ips - + mode capr interface wan ip 100.99.90.100/28 peer 10.2 password P@sswor group 1 adb 1"]}],[{"l":"Captive","p":["Captive portal","Заходим в captive portal и создаем zone","Выбераем интерфейс тот который смотрит в сторону той машины где мы будет работать captive portal В Allow inbound выбераем сети к которым будем иметь доступ ( локальные ) В Authenticate using выбераем Local Database ( это локальная база откуда мы будем брать логин и пароль ) В конце можно по желанию добавить описание для этой зоны Сохраням и выходим","Заходим в System > Access > Users и там добавляем пользователя под которым мы будем авторизироваться Нажимаем + для создания х Указываем username ( Пример: guest ) пароль ( P@ssw0rd) ( другие настройки я не менял ) Делаем правила для работы captive portal Заходим в Firewall > Rules > OPT2+","Нажимаем на + и создаем правила Первое правило (разрешаем выход в интернет ) не забываем убрать галочку Quick ( она нужна чтобы правило работало после других и не давало сразу доступ )","Второе и третье правило (запрещаем доступ к локальной сети)","Тут я запретил доступ к сети где у меня pc-rnd","Тут я запретил доступ к сети где у меня dc-rnd ( обязательно надо убрать галочку Quick ) Четвертое правило ( разрешаем заходить в логин captive portal )","Пятое и шестое правило ( даем доступ к локальным ресурсам нужные для выполнения задания )","И по такому же принципу создаем правило с разрешение 53 порта для DNS","* информацию я брал и переделал немного оттуда: https://www.zenarmor.com/docs/network-security-tutorials/how-to-configure-captive-portal-on-opnsense"]}],[{"l":"Chrony fw krd","p":["Сначала надо обновить opnsense заходим в System>Firmware>status и нажимаем check for updates","скачиваем chrony System>Firmware>plugins пишем в поиске chrony и нажимаем +","заходим в services>network time>general и удаляем все сервера и сохраняем","обновляем страницу и заходим в services> и выставляем все как у меня","На клиенте заходим в терминал и в файлик etc/chrony.conf","там мы удаляем все server и вводим server и айпи opnsense ( например у меня это: server 192.168.20.1)","сохраняем и выходим из файлика","пишем systemctl restart chronyd для перезагрузки chrony","проверяем командой chrony sources","если все работает правильно то Reach должен быть выше 1, если у вас 1 и выше значит все правильно"]}],[{"l":"DHCP FAILOVER KEA","p":["10.2= settigs - interface - lan high evalivaati serveer r2 max 2","subnet- 192.168.10.0.24","192.168.10.10.-192,168,10.100 static 10.1","HAA PEER NAME R2 PRIMARY http:/192.168.10.3:8001/","10.3= settigs - interface - lan high evalivaati serveer r3 max 2","HAA PEER NAME R2 PRIMARY http:/192.168.10.2:8001/"]}],[{"i":"docker-1","l":"Docker (1)","p":["sudo dnf install git cd /opt sudo git clone http://github.com/zammad/zammad-docker-compose sudo mv zammad-docker-compose/*. mkdir -p zammad nano /etc/docker-compose.yml//идем в конец файла и ищем - volumes: image","делаем так же как на скрине sudo dnf install docker-ce docker-ce-cli docker-compose systemctl start docker sudo docker compose up -d systemctl enable docker"]}],[{"l":"KEA DHCP","p":["DC-RND dnf install kea nano /etc/kea/kea-dhcp4.conf image image","![[Pasted image 20250305011720.png]] systemctl restart kea"]}],[{"l":"Kea dhcp OPNSENSE","p":["заходим в kea-dhcp","В settings нам надо включить его и выбрать интерфейс в какую сторону давать айпишки","далее переходим в subnets и там нажимаем + для создания сети","в первом мы пишем нашу сеть которую будем выдавать например 192.168.0.1/24","Дальше можно написать название для него это не обязательно","Пишем пул наших адресов с какого по какой выдавать айпи","в static routers мы указываем шлюз","в Time servers мы указываем ntp server"]}],[{"l":"Keeplived","p":["dnf install keeplived nano /etc/keeplived/keeplived.conf"]}],[{"l":"Keeplived conf","p":["! Configuration File for keepalived","vrrp_instance CL_2 { state BACKUP interface ens3 virtual_router_id 80 priority 100 advert_int 3 virtual_ipaddress { 192.168.10.100} front 2","vrrp_instance CL_1 { state MASTER interface ens3 virtual_router_id 80 priority 110 advert_int 3 virtual_ipaddress { 192.168.10.100}}","front1"]}],[{"l":"Nginx full","p":["dnf install nginx nano /etc/nginx/nginx.conf меняем конфиг по заданию в нашем случае image","сохраняем проверяем","другой пункт adduser webdev (name по заданию) dnf install lighttpd nano /etc/lighttpd/ lighttpd.conf image","server port - 81 там еще что то надо, не помню image","Chmod -R 750 /opt/data","Chown -R lighttpd:lighttpd /opt/data","setenforce 0","Restorecon -Rv","nano /etc/selinux/config permissive"]}],[{"l":"PFSYNC","p":["10.3 system - High Aval... synchorizw all statis nia -LAN PEER IP - 192.168.10.2 SERVICES ALIASES , AUTH SERVEER........","10.2 system - High Aval... synchorizw all statis nia -LAN PEER IP - 192.168.10.3 SERVICES ALIASES , AUTH SERVEER........"]}],[{"l":"RAID","p":["-l - это level raid","-n - количество дисков","**","/dev/md0 - название","blkid /dev/md0 >> /etc/fstab","blkid /dev/md0 для просмотра id диска","Continue creating array? Yes","cp /etc/fstab /etc/fstab_bak резерв","lsblk (показывает все диски какие у нас имеются)","mdadm - -detail /dev/md0 проверка","mkdir /opt/data","mkfs.xfs /dev/md0 создание xfs","mount -a","nano /etc/fstab","systemctl daemon-reload","UUID=asdas091432naffa /opt/data xfs defaults 0 0"]}],[{"l":"SSH","p":["}","**","**** Теперь при исполнение команды sudo от пользователя user у вас не будет просить пароль","Adduser user","Command ssh -p 2202 user@192.168.21.2","Command ssh $@","Else","Fi","If [[$@==”SRV” ]]; then","Nano /etc/selinux/config","Nano /etc/ssh/sshd_config","Nano /etc/sudoers","Passwd user и вводим 2 раза пароль","Port 2202","Ssh -p 2202 user@192.168.21.2 у вас не будет просить пароль для входа","Ssh SRV и у нас должно будет просто войти в терминал SRV**","Ssh-copy-id -p 2202 user@192.168.21.2 это переносит ключи на сервер (пишите свой айпи srv-krd)","ssh-keygen и протыкиваем везде enter","ssh() {","Sudo nano /etc/bashrc","sudo setenforce 0 но это будет действовать до перезагрузки, так что лучше в файле","user ALL=(ALL) NOPASSWD:ALL","Выключаем selinux обязательно","Дальше заодим на pc-krd в терминал","Добавляем в любое место или после root строку","Если у вас никаких ошибок вверху не написало значит все работает","Заходим в конфиг ssh","Листаем в самый низ страницы и добавляем следующий небольшой блок кода","Меняем ему пароль","Меняем значение SELINUX на permissive","Меняем порт на нужный по заданию","На сервере SRV-KRD сервис SSH должен функционировать на порте 2202","Нам надо зайти на srv-krd в файл /etc/sudoers","Настроить удаленный доступ к SRV-KRD по SSH","Переходим на pc-krd в терминал и пишем команду","Пишем","Пишем команды для того чтобы сгенерировать ключи и перенести их на сервер","Подключение к SRV-KRD с PC-KRD из под пользователя user должно осуществляться командой “ssh SRV” без дополнительных параметров.","Пользователь user на SRV-KRD должен иметь возможность выполнять команды через sudo без ввода пароля.","После этого выходим и сохраняем файл","После этого для проверки можно писать","Проверка: для начала надо перезайти в терминал, закройте его и откройте обратно","Создаем user","Сохраняем и выходим, также можно с помощью команды","Устройство PC-KRD при входе под пользователем user должно иметь доступ к SRV-KRD под пользователем user c использованием SSH ключей, без необходимости ввода пароля."]}],[{"l":"Vlans","p":["Assign Interface","Do you want to configure Vlans now? yes","Дальше надо выбрать интерфейс который смотрит в сторону клиентов у меня vtnet1","Дальше надо добавить тег, смотрим в топологию и вводим 2000","опять выбираем vtnet1 и вводим уже следующий тег 2010","по той же схеме делаем и последний интерфейс","тыкаем enter","дальше мы должны выбрать интерфейс в сторону интернета wan","дальше указываем lan интерфейс у меня это vtnet1_vlan2010","по такому же принципу вводим остальные интерфейсы","когда все сделали нажимаем enter и y"]}],[{"l":"VPN WG AND OSPF","p":["VPN Выполняется на fw rnd и fw krd Отключаем firewall settings -- advenced -- Disable firewall ( ставим галочку) на fw rnd и fw krd image","подключаемся ко второй машине в нашем случае к fw-krd по его ip адресу конфигурация на fw rnd","instance image","peer image","конфигурация на fw krd","у вас будут другие ключи на изображение мы можем заметить - public key из instance с fw rnd мы вставили в peer fw krd. и тоже самое в зеркальном порядке , то есть public key из instance с fw krd мы вставили в peer fw rnd","Заходим в interface - assignmets создаем интерфейс wg0 затем заходив в firewall - rules - wireguard groupe и даем полное разрешение тоже самое с wg0 включаем firewall по тому же принципу*** данные действие делаем на двух тачках (fw rnd and fw krd) ***","проверяем пинги","#OSPF обновляем opnsense, затем скачиваем пакет frr у нас появляется вкладка Routing - заходим","конфигурация FW-RND general image","networks image image","затем идем в general - enable Затем идем в firewall - rules - wg0 (правила на fw rnd) image","такие же действия идем делать на fw rnd (правила) image","image","затем делаем еще одно правила совместно Это все..Удачи!"]}],[{"l":"Zabbix","p":["_ date.timezone = Europe/Moscow #обязательно укажите свой часовой пояс","_ listen_addresses = '*'","}","/usr/bin/postgresql-13-setup initdb","\\l","\\q","#Allow replication connections from localhost, by a user with the#replication privilege. local replication all peer","#IPv4 local connections: host all all 127.0.0.1/32 md5","#IPv6 local connections: host all all ::1/128 md5","CREATE DATABASE zabbix WITH OWNER zabbix;","CREATE ROLE zabbix WITH NOSUPERUSER LOGIN PASSWORD 'zabbixpassword';","DBHost=localhost","DBName=zabbix","DBPassword=zabbixpassword","DBUser=zabbix","dnf install httpd zabbix-apache-conf zabbix-sql-scripts","dnf install zabbix-server-pgsql zabbix-web-pgsql zabbix-agent","exit","GRANT ALL PRIVILEGES ON DATABASE zabbix TO zabbix;","host replication all ::1/128 md5","host replication all 127.0.0.1/32 md5","host zabbix zabbix 127.0.0.1/32 password","Listen 80;","local all all peer","Location / {","max_execution_time = 300","max_input_time = 300_","nano /etc/nginx/nginx.conf","nano /etc/php.ini","nano /etc/zabbix/zabbix_server.conf","nano /var/lib/pgsql/13/data/pg_hba.conf","nano /var/lib/pgsql/13/data/postgresql.conf","Nginx","passwd postgres","port = 5432_","post_max_size = 16M","Proxy_pass http://127.0.0.1:82","Proxy_set_header Host $host;","Proxy_set_header X-Forwarded-For $reemote_addr;","Proxy_set_header X-Forwarded-Port $server_port; }","Proxy_set_header X-Real-IP $remote_addr;","psql","Server {","Server_name mon.jun.profi;","su postgres","systemctl enable httpddnf install postgresql13 postgresql13-server","systemctl enable postgresql-13","systemctl enable zabbix-agent","systemctl enable zabbix-server","systemctl restart httpd","systemctl restart postgresql-13","systemctl restart zabbix-agent","systemctl restart zabbix-server","systemctl start postgresql-13","zcat /usr/share/zabbix-sql-scripts/postgresql/server.sql.gz | sudo -u zabbix psql zabbix","Перед конфигом надо будет поменять порт в nano /etc/httpd/httpd.conf на 82"]}]]